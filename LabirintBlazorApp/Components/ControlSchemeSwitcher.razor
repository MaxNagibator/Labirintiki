@using LabirintBlazorApp.Common.Schemes
@inject IControlSchemeService ControlSchemeService

<MudText Typo="Typo.h5">Схемы управления:</MudText>
<MudStack>
    @foreach (IControlScheme scheme in ControlSchemeService.AvailableSchemes)
    {
        if (scheme == ControlSchemeService.CurrentScheme)
        {
            <MudButton Variant="Variant.Filled" Color="Color.Inherit" FullWidth>@scheme.Name</MudButton>
        }
        else
        {
            <MudButton OnClick="() => SwitchScheme(scheme)" Variant="Variant.Outlined" Color="Color.Info" FullWidth>@scheme.Name</MudButton>
        }
    }
</MudStack>

@code {

    private void SwitchScheme(IControlScheme scheme)
    {
        ControlSchemeService.CurrentScheme = scheme;
    }

}